///////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////EXECUTION OF JS///////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////
$(function() {

    crossover();

///////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////NAVBAR ANIMATION//////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////
    $(window).scroll(function() {
        var scroll = $(window).scrollTop();
        if (scroll > 65) {
            $('nav, .navbar-brand, .nav-link, .active-link').addClass('scrolled');
        } else {
            $('nav, .navbar-brand, .nav-link, .active-link').removeClass('scrolled');
        }
    });

///////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////NAVBAR SCROLL/////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////
    $('.nav-link').click(function() {
        $('.active-link').removeClass('active-link');
        $(this).addClass('active-link');

        $('html, body').animate({
            scrollTop: $(this.hash).offset().top-100
        }, 900, function() {
            window.location.hash = this.hash;
        });
    });

///////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////NAVBAR SCROLL/////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////
    activeNav();
    function activeNav() {
        var sections = $('.wrapper'),
            nav = $('nav'),
            nav_height = nav.outerHeight();

        $(window).scroll(function() {
            var position = $(this).scrollTop();
            
            sections.each(function() {
                var top = $(this).offset().top - nav_height,
                    bottom = top + $(this).outerHeight();

                if (position >= top && position <= bottom) {
                    nav.find('.active-link').removeClass('active-link');
                    nav.find('.nav-link[href="#' + $(this).attr('id') + '"]').addClass('active-link');
                }
            });
        });

    }


});